# 스마트팜 모니터링 시스템 - 원곡고등학교 실습 수업 자료

이 프로젝트는 원곡고등학교 실습 수업을 위한 스마트팜 모니터링 시스템입니다. 식물 성장 환경을 모니터링하고 데이터를 기록하며, 식물 성장에 필요한 LED 조명을 자동으로 제어합니다.

## 하드웨어 구성
- Raspberry Pi Pico WH
- DataPi PCB
- 온습도 센서 (DHT11)
- 조도 센서 (BH1750)
- RTC 모듈 (DS3231)
- 네오픽셀 링 (12개 LED)
- 부저 (피에조)
- 버튼
- 코인 배터리

## 주요 기능
1. **환경 모니터링**: 온도, 습도, 조도 데이터를 실시간으로 측정
2. **데이터 기록**: 측정된 데이터를 CSV 파일로 저장 (시간, 온도, 습도, 조도)
3. **자동 조명 제어**: 설정된 시간에 따라 네오픽셀 LED를 자동으로 켜고 끔
4. **상태 표시**: 네오픽셀 색상으로 시스템 상태 표시 (켜짐/꺼짐/대기)
5. **사용자 인터페이스**: 버튼을 통한 기록 시작/중지 제어

## 사용 방법
1. **기록 시작/중지**: 버튼을 누르면 데이터 기록이 시작되며, 다시 누르면 중지됩니다.
2. **LED 조명 설정**: 코드 상단의 변수를 수정하여 LED가 켜지고 꺼지는 시간을 설정할 수 있습니다.
   ```python
   # LED 조명 켜기/끄기 시간 설정 (24시간 형식)
   light_on_hour = 8     # LED 켜는 시간 (시)
   light_on_minute = 0   # LED 켜는 시간 (분)
   light_off_hour = 18   # LED 끄는 시간 (시)
   light_off_minute = 0  # LED 끄는 시간 (분)
   ```
3. **기록 간격 설정**: 코드에서 `recording_interval` 값을 수정하여 데이터 기록 간격을 조정할 수 있습니다.
   ```python
   # 기록 간격 설정 (초 단위)
   recording_interval = 30  # 30초마다 기록
   ```

## LED 상태 표시
- **모든 LED 보라색**: 기록 중이며, LED 켜기 시간 범위 내에 있음
- **첫 번째 LED만 빨간색**: 기록 중이지만, LED 끄기 시간 범위 내에 있음
- **모든 LED 꺼짐**: 기록 중지 상태

## 데이터 형식
데이터는 `data.csv` 파일에 다음 형식으로 저장됩니다:
```
Time, Temperature, Humidity, Light
2023/04/12 08:00:00, 25.30, 45.70, 320.50
2023/04/12 08:00:30, 25.40, 45.60, 321.20
...
```

## 설치 방법
1. 필요한 모듈 설치:
   - DS3231 (RTC)
   - DHT11 (온습도 센서)
   - BH1750 (조도 센서)
   - NeoPixel

2. 코드를 Raspberry Pi Pico에 업로드

## 문제 해결
- **시간이 정확하지 않은 경우**: RTC 모듈의 배터리를 확인하고 필요시 교체하세요.
- **센서 데이터가 나오지 않는 경우**: I2C 연결을 확인하세요.
- **LED가 켜지지 않는 경우**: 네오픽셀 연결 및 전원을 확인하세요.

## 실습 
1. [blink.py](/src/Examples/blink.py) : LED를 켜고 끄는 기본 동작코드 
2. [Button.py](/src/Examples/Button.py): 버튼을 누르면 LED가 켜지고 꺼지는 코드
3. [Buzzer.py](/src/Examples/Buzzer.py) : 일정기간 동안 피에조에서 소리가 나는 코드 
4. [melody.py](/src/Examples/melody.py) : 피에조로 멜로디를 연주하는 코드 
5. [Neopixel.py](/src/Examples/Neopixel.py) : 네오픽셀을 제어하는 코드